{% extends 'article/userbase.html' %}
{% load static %}
{% block content %}
<section class="b-green">
    <div class="container">
        <div class="row text-center">
            <div class="col">
                    خروجی انفرادی
            </div>
        </div>
    </div>
</section>
<svg id="wave" style="transform:rotate(180deg); transition: 0.3s" viewBox="0 0 1440 100" version="1.1"
xmlns="http://www.w3.org/2000/svg">
<defs>
   <linearGradient id="sw-gradient-0" x1="0" x2="0" y1="1" y2="0">
       <stop stop-color="rgba(127, 255, 0, 1)" offset="0%"></stop>
       <stop stop-color="rgba(127, 255, 0, 1)" offset="100%"></stop>
   </linearGradient>
</defs>
<path style="transform:translate(0, 0px); opacity:1" fill="url(#sw-gradient-0)"
     d="M0,30L80,38.3C160,47,320,63,480,60C640,57,800,33,960,25C1120,17,1280,23,1440,31.7C1600,40,1760,50,1920,51.7C2080,53,2240,47,2400,50C2560,53,2720,67,2880,61.7C3040,57,3200,33,3360,25C3520,17,3680,23,3840,30C4000,37,4160,43,4320,46.7C4480,50,4640,50,4800,55C4960,60,5120,70,5280,68.3C5440,67,5600,53,5760,53.3C5920,53,6080,67,6240,66.7C6400,67,6560,53,6720,55C6880,57,7040,73,7200,66.7C7360,60,7520,30,7680,28.3C7840,27,8000,53,8160,68.3C8320,83,8480,87,8640,88.3C8800,90,8960,90,9120,76.7C9280,63,9440,37,9600,25C9760,13,9920,17,10080,20C10240,23,10400,27,10560,25C10720,23,10880,17,11040,25C11200,33,11360,57,11440,68.3L11520,80L11520,100L11440,100C11360,100,11200,100,11040,100C10880,100,10720,100,10560,100C10400,100,10240,100,10080,100C9920,100,9760,100,9600,100C9440,100,9280,100,9120,100C8960,100,8800,100,8640,100C8480,100,8320,100,8160,100C8000,100,7840,100,7680,100C7520,100,7360,100,7200,100C7040,100,6880,100,6720,100C6560,100,6400,100,6240,100C6080,100,5920,100,5760,100C5600,100,5440,100,5280,100C5120,100,4960,100,4800,100C4640,100,4480,100,4320,100C4160,100,4000,100,3840,100C3680,100,3520,100,3360,100C3200,100,3040,100,2880,100C2720,100,2560,100,2400,100C2240,100,2080,100,1920,100C1760,100,1600,100,1440,100C1280,100,1120,100,960,100C800,100,640,100,480,100C320,100,160,100,80,100L0,100Z"></path>
</svg>
<section class='container'>
    <div class='row text-center mt-4'>
        <div class='col'>
            <form action='{% url 'addorder' %}' method='POST'>
                {% csrf_token %}
                <lable for='no'>شماره پرونده</lable>
                {{ form.order_number }}
                <input type="submit" value="ثبت">
            </form>
        </div>
    </div>
</section>
<section id='print'>
{% for company in Company %}
{% for summary in solo_page %}
    <div class='container' style='font-size: 15px;'>
        <div class='row text-center mt-5'>
            <div class='col'>
                <lable>تاریخ انجام معاینات:</lable>
                {{ company.date }}
            </div>
        </div>
        <div class='row text-center'>
            <div class='col'>
                <lable>کارخانه/کارگاه/شرکت:</lable>
                {{ company.company }}            
            </div>
            <div class='col'>
                <lable>نام:</lable>
                {{ summary.name }}            
            </div>
        </div>
        <div class='row text-center'>
            <table class='mytable'>
                <tr>
                    <th class='first'>ویژگی</th>
                    <th class='second'>مقدار</th>
                    <th class='third'>وضعیت</th>
                </tr>
                <tr>
                    <td class='first'>سن</td>
                    <td class='second'>{{ summary.age }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>قد</td>
                    <td class='second'>{{ summary.length }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>توده بدنی</td>
                    <td class='second'>{{ summary.body_mass }}</td>
                    {% if summary.body_mass < 20 %}
                    <td class='third'>کمبود وزن</td>
                    {% elif summary.body_mass < 26 %}
                    <td class='third'>ایده آل</td>
                    {% elif summary.body_mass < 31 %}
                    <td class='third'>اضافه وزن</td>
                    {% elif summary.body_mass < 41 %}
                    <td class='third'>چاقی</td>
                    {% elif summary.body_mass > 40 %}
                    <td class='third'>چاقی شدید</td>
                    {% else %}
                    <td class='third'>ندارد</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>قند خون</td>
                    <td class='second'>{{ summary.blood_sugar }}</td>
                    {% if summary.blood_sugar < 100 %}
                    <td class='third'>نرمال</td>
                    {% elif summary.blood_sugar < 126 %}
                    <td class='third'>در محدوده احتیاط</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>فشار خون</td>
                    <td class='second'>{{ summary.blood_pressure }}</td>
                    {% if summary.blood_pressure < 9 %}
                    <td class='third'>پایین</td>
                    {% elif summary.blood_pressure >= 9 and summary.blood_pressure <= 14 %}
                    <td class='third'>نرمال</td>
                    {% elif summary.blood_pressure > 9 %}
                    <td class='third'>بالا</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>کلسترول</td>
                    <td class='second'>{{ summary.cholesterol }}</td>
                    {% if summary.cholesterol < 200 %}
                    <td class='third'>نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>تری گلیسیرید</td>
                    <td class='second'>{{ summary.triglyceride }}</td>
                    {% if summary.triglyceride < 200 %}
                    <td class='third'>نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>ادرار</td>
                    <td class='second'>{{ summary.urine }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>تست تنفس</td>
                    <td class='second'>{{ summary.breathing_test }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>شنوایی گوش چپ</td>
                    <td class='second'>{{ summary.left_ear_hearing }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>شنوایی گوش راست</td>
                    <td class='second'>{{ summary.right_ear_hearing }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>بینایی چشم چپ</td>
                    <td class='second'>{{ summary.left_eye_vision }}</td>
                    {% if summary.left_eye_vision < 1 %}
                    <td class='third'>غیر نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>بینایی چشم چپ با عینک</td>
                    <td class='second'>---</td>
                    <td class='third'>{{ summary.left_eye_vision_with_glasses }}</td>
                </tr>
                <tr>
                    <td class='first'>بینایی چشم راست</td>
                    <td class='second'>{{ summary.right_eye_vision }}</td>
                    {% if summary.right_eye_vision < 1 %}
                    <td class='third'>غیر نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>بینایی چشم راست با عینک</td>
                    <td class='second'>---</td>
                    <td class='third'>{{ summary.right_eye_vision_with_glasses }}</td>
                </tr>
                <tr>
                    <td class='first'>عکس سینه</td>
                    <td class='second'>{{ summary.breast_photo }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>سرب خون</td>
                    <td class='second'>{{ summary.blood_lead }}</td>
                    {% if summary.blood_lead < 20 %}
                    <td class='third'>نرمال</td>
                    {% elif summary.blood_lead < 30 %}
                    <td class='third'>در محدوده احتیاط</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>PSA</td>
                    <td class='second'>{{ summary.PSA }}</td>
                    {% if summary.PSA < 4 %}
                    <td class='third'>نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>TSH</td>
                    <td class='second'>{{ summary.TSH }}</td>
                    {% if summary.TSH < 5 and summary.TSH > 0.4 %}
                    <td class='third'>نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>chratinin</td>
                    <td class='second'>{{ summary.chratinin }}</td>
                    {% if summary.chratinin < 1.5 %}
                    <td class='third'>نرمال</td>
                    {% else %}
                    <td class='third'>ندارد/غیر نرمال</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>D3</td>
                    <td class='second'>{{ summary.D3 }}</td>
                    {% if summary.D3 < 10 %}
                    <td class='third'>کمبود</td>
                    {% elif summary.D3 < 30 %}
                    <td class='third'>عدم کفایت</td>
                    {% elif summary.D3 < 101 %}
                    <td class='third'>مسمومیت/کافی</td>
                    {% else %}
                    <td class='third'>ندارد</td>
                    {% endif %}
                </tr>
                <tr>
                    <td class='first'>بینایی چشم راست با عینک</td>
                    <td class='second'>---</td>
                    <td class='third'>{{ summary.heart }}</td>
                </tr>
                <tr>
                    <td class='first'>سن</td>
                    <td class='second'>{{ summary.age }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>سن</td>
                    <td class='second'>{{ summary.age }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>سن</td>
                    <td class='second'>{{ summary.age }}</td>
                    <td class='third'>---</td>
                </tr>
                <tr>
                    <td class='first'>سن</td>
                    <td class='second'>{{ summary.age }}</td>
                    <td class='third'>---</td>
                </tr>
            </table>
        </div>
    </div>
    <hr size="5px" width="100%" color="black" class='mt-5'>
    {% endfor %}
    {% endfor %}
</section>
<section>
    <div class='container mt-5'>
        <div class='row text-center'>
            <div class='col'>
                <input type="button" value="print" onclick="printDiv()">
            </div>
        </div>
    </div>
    <div id="container" dir='ltr' class='mt-5'>
        <div id="pagination">
            {% if solo_page.has_previous %}
            <a class='blocks' href='?page=1' style='text-decoration: none;color: black;'>اول</a>
            <a class='blocks' href='?page={{ solo_page.previous_page_number }}' style='text-decoration: none;color: black;'>&laquo;</a>
            {% endif %}
            {% for num in nums %}
                <a class='blocks' href='?page={{ forloop.counter }}' style='text-decoration: none;color: black;'>{{ forloop.counter }}</a>    
            {% endfor %}
            {% if solo_page.has_next %}
            <a class='blocks' href='?page={{ solo_page.next_page_number }}' style='text-decoration: none;color: black;'>&raquo;</a>
            <a class='blocks' href='?page={{ solo_page.paginatior.num_pages }}' style='text-decoration: none;color: black;'>آخر</a>
            {% endif %}
        </div>
    </div>
</section>
<script>
    function printDiv() {
        const printContents = document.getElementById('print').innerHTML;
        const originalContents = document.body.innerHTML;
        document.body.innerHTML = printContents;
        window.print();
        document.body.innerHTML = originalContents;
    }
</script>
{% endblock content %}